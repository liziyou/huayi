{"remainingRequest":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/vant-demo/vant/vue2/src/view/activities/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/vant-demo/vant/vue2/src/view/activities/index.vue","mtime":1615457039702},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFJvdywgQ29sLCBJY29uLCBDZWxsLCBDZWxsR3JvdXAsIE5hdkJhciwgVGFiYmFyLCBUYWJiYXJJdGVtLCBTZWFyY2gsIFRhYnMsIFRhYiwgUHVsbFJlZnJlc2ggfSBmcm9tICd2YW50JwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFtSb3cubmFtZV06IFJvdywKICAgIFtQdWxsUmVmcmVzaC5uYW1lXTogUHVsbFJlZnJlc2gsCiAgICBbVGFicy5uYW1lXTogVGFicywKICAgIFtUYWIubmFtZV06IFRhYiwKICAgIFtTZWFyY2gubmFtZV06IFNlYXJjaCwKICAgIFtOYXZCYXIubmFtZV06IE5hdkJhciwKICAgIFtDb2wubmFtZV06IENvbCwKICAgIFtJY29uLm5hbWVdOiBJY29uLAogICAgW0NlbGwubmFtZV06IENlbGwsCiAgICBbQ2VsbEdyb3VwLm5hbWVdOiBDZWxsR3JvdXAsCiAgICBbVGFiYmFyLm5hbWVdOiBUYWJiYXIsCiAgICBbVGFiYmFySXRlbS5uYW1lXTogVGFiYmFySXRlbQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFZhbHVlOiAnJywKICAgICAgc2VhcmNoU29ydFR5cGU6IDEsCiAgICAgIGFjdGl2ZTogMCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgc29ydFR5cGU6ICdkb3duJywKICAgICAgYWN0aXZlTGlzdDogWwogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICfku7fmoLwnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAn5paw5ZOB5LyY5YWIJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ+aciei0p+S8mOWFiCcKICAgICAgICB9CiAgICAgIF0sCiAgICAgIHNlYXJjaExpc3Q6IFtdCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdG9Ib21lKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkua2V5CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5zZWFyY2hWYWx1ZSA9IHRoaXMudG9Ib21lCiAgICB0aGlzLm9uU2VhcmNoKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2VhcmNoKCkgewogICAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuamRodWkuY29tL2FwaS9KZGhPcmRlci9TZWFyY2hCMmMnCiAgICAgIHRoaXMuJGFqYXgucG9zdCh1cmwsIHsKICAgICAgICBTb3J0VHlwZTogdGhpcy5zZWFyY2hTb3J0VHlwZSwKICAgICAgICBjbHViU046ICdNNDcwMzQwNycsCiAgICAgICAga2V5OiB0aGlzLnNlYXJjaFZhbHVlCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdyZXMnKQogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICB0aGlzLnNlYXJjaExpc3QgPSByZXMuZGF0YS5EYXRhLkdvb2RzTGlzdAogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnNlYXJjaExpc3QnKQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhcmNoTGlzdCkKICAgICAgfSkuY2F0Y2goKGVycikgPT4gewoKICAgICAgfSkKICAgIH0sCiAgICBzb3J0R29vZHMoKSB7CiAgICAgIHRoaXMuc29ydFR5cGUgPSB0aGlzLnNvcnRUeXBlID09PSAnZG93bicgPyAndXAnIDogJ2Rvd24nCiAgICAgIHRoaXMuc2VhcmNoU29ydFR5cGUgPSB0aGlzLnNvcnRUeXBlID09PSAnZG93bicgPyAxIDogMgogICAgICB0aGlzLm9uU2VhcmNoKCkKICAgIH0sCiAgICBvblJlZnJlc2goKSB7fSwKICAgIGZpbHRlckltZyhpbWdzID0gW10pIHsKICAgICAgY29uc3QgaW1nRGF0YSA9IGltZ3Muc3BsaXQoJywnKQogICAgICByZXR1cm4gaW1nRGF0YS5sZW5ndGggPiAwID8gaW1nRGF0YVswXSA6ICcnCiAgICB9LAogICAgY2hhbmdlVGFiKCkgewogICAgICB0aGlzLnNlYXJjaFNvcnRUeXBlID0gdGhpcy5hY3RpdmUgPT09IDAgPyAxIDogdGhpcy5hY3RpdmUgKyAyCiAgICAgIHRoaXMub25TZWFyY2goKQogICAgfSwKICAgIGdvQmFjaygpIHsKICAgICAgdGhpcy4kcm91dGVyLmJhY2soLTEpCiAgICB9LAogICAgZ29EZXRhaWwoaXRlbSkgewogICAgICBjb25zb2xlLmxvZygnaXRlbS0tLSAnKQoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnZGV0YWlsJywgcXVlcnk6CiAgICAgIHsKICAgICAgICBQcm9JZDogaXRlbS5Qcm9JZAogICAgICB9fSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/activities","sourcesContent":["<template>\n  <div class=\"activities\">\n    <van-search\n      v-model=\"searchValue\"\n      show-action\n      shape=\"round\"\n      placeholder=\"请输入搜索关键词\"\n      @search=\"onSearch\"\n    >\n      <template v-if=\"toHome\" #left>\n        <van-icon name=\"arrow-left\" @click=\"goBack\" />\n      </template>\n      <template #action>\n        <div @click=\"onSearch\">搜索</div>\n      </template>\n    </van-search>\n    <van-tabs v-model=\"active\" @change=\"changeTab\">\n      <van-tab v-for=\"(item,index) in activeList\" :key=\"index\">\n        <template #title>\n          <div class=\"activities-sort\">\n            {{ item.name }}\n            <div v-if=\"index === 0\" class=\"tabs-arrow\" @click=\"sortGoods\">\n              <i class=\"sort\" :class=\"active === 0 ? sortType : ''\" />\n            </div>\n          </div>\n        </template>\n        <van-pull-refresh v-model=\"isLoading\" :head-height=\"80\" @refresh=\"onRefresh\">\n          <!-- 下拉提示，通过 scale 实现一个缩放效果 -->\n          <template>\n            <van-cell>\n              <!-- 使用 title 插槽来自定义标题 -->\n              <template #title class=\"\">\n                <div class=\"goods-list-box\">\n                  <div v-for=\"goods in searchList\" :key=\"goods.ProId\" class=\"goods-list-item\" @click=\"goDetail(goods)\">\n                    <div class=\"img-box\">\n                      <img :src=\"filterImg(goods.Images)\">\n                    </div>\n                    <div class=\"info\">\n                      <p class=\"title\">\n                        {{ goods.ProName }}\n                      </p>\n                      <p class=\"text-light text-ellipsis\">\n                        <span class=\"goods-spec\">规格：{{ goods.SpecStr }}</span>\n                      </p>\n                      <div class=\"origin-price \">\n                        ¥\n                        <span class=\"price text-small\">\n                          <span class=\"price-large\">{{ goods.ProPrice }}</span>\n                        </span>\n                        .00\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"searchList.length<1\" class=\"table-data-empty\">\n                    暂无相关数据\n                  </div>\n                </div>\n              </template>\n            </van-cell>\n          </template>\n        </van-pull-refresh>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\nimport { Row, Col, Icon, Cell, CellGroup, NavBar, Tabbar, TabbarItem, Search, Tabs, Tab, PullRefresh } from 'vant'\n\nexport default {\n  components: {\n    [Row.name]: Row,\n    [PullRefresh.name]: PullRefresh,\n    [Tabs.name]: Tabs,\n    [Tab.name]: Tab,\n    [Search.name]: Search,\n    [NavBar.name]: NavBar,\n    [Col.name]: Col,\n    [Icon.name]: Icon,\n    [Cell.name]: Cell,\n    [CellGroup.name]: CellGroup,\n    [Tabbar.name]: Tabbar,\n    [TabbarItem.name]: TabbarItem\n  },\n  data() {\n    return {\n      searchValue: '',\n      searchSortType: 1,\n      active: 0,\n      isLoading: false,\n      sortType: 'down',\n      activeList: [\n        {\n          name: '价格'\n        },\n        {\n          name: '新品优先'\n        },\n        {\n          name: '有货优先'\n        }\n      ],\n      searchList: []\n    }\n  },\n  computed: {\n    toHome() {\n      return this.$route.query.key\n    }\n  },\n  created() {\n    this.searchValue = this.toHome\n    this.onSearch()\n  },\n  methods: {\n    onSearch() {\n      const url = 'https://api.jdhui.com/api/JdhOrder/SearchB2c'\n      this.$ajax.post(url, {\n        SortType: this.searchSortType,\n        clubSN: 'M4703407',\n        key: this.searchValue\n      }).then((res) => {\n        console.log('res')\n        console.log(res)\n        this.searchList = res.data.Data.GoodsList\n        console.log('this.searchList')\n        console.log(this.searchList)\n      }).catch((err) => {\n\n      })\n    },\n    sortGoods() {\n      this.sortType = this.sortType === 'down' ? 'up' : 'down'\n      this.searchSortType = this.sortType === 'down' ? 1 : 2\n      this.onSearch()\n    },\n    onRefresh() {},\n    filterImg(imgs = []) {\n      const imgData = imgs.split(',')\n      return imgData.length > 0 ? imgData[0] : ''\n    },\n    changeTab() {\n      this.searchSortType = this.active === 0 ? 1 : this.active + 2\n      this.onSearch()\n    },\n    goBack() {\n      this.$router.back(-1)\n    },\n    goDetail(item) {\n      console.log('item--- ')\n\n      this.$router.push({ name: 'detail', query:\n      {\n        ProId: item.ProId\n      }})\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scope>\n.activities {\n  .van-tab--active {\n    color: #FE3A3B;\n  }\n  .van-cell {\n    background: #f8f8f8;\n  }\n  &-sort {\n    display: flex;\n    .tabs-arrow {\n      display: flex;\n      align-items: center;\n      justify-content: left;\n      flex-direction: column;\n      .sort{\n        position: absolute;\n        top: 29px;\n        margin-left: 25px;\n      }\n      .sort::before {\n        content: '';\n        position: absolute;\n        left: -5px;\n        margin-top: -12px;\n        border-style: solid;\n        border-color: #646566;\n        border-width: 0 5px 5px 5px;\n        border-left-color: transparent;\n        border-right-color: transparent;\n      }\n      .sort::after {\n        content: '';\n        position: absolute;\n        left: -5px;\n        margin-top: -5px;\n        border-style: solid;\n        border-width: 5px 5px 0px 5px;\n        border-color: #646566;\n        border-left-color: transparent;\n        border-right-color: transparent;\n      }\n      .down::after {\n        border-color:#FE3A3B;\n        border-left-color: transparent;\n        border-right-color: transparent;\n      }\n      .up::before {\n        border-color:#FE3A3B;\n        border-left-color: transparent;\n        border-right-color: transparent;\n      }\n    }\n  }\n  .goods-list-box {\n    .goods-list-item {\n      display: table;\n      width: 100%;\n      overflow: hidden;\n      vertical-align: top;\n      table-layout: fixed;\n      border-spacing: 0;\n      .img-box{\n        position: relative;\n        display: table-cell;\n        width: 110px;\n        height: 100px;\n        padding-right: 15px;\n        box-sizing: content-box;\n        img{\n          height: 100%;\n          width: 100%;\n        }\n      }\n      .info{\n        position: relative;\n        display: table-cell;\n        vertical-align: top;\n        flex: 1;\n        font-size: 14px;\n        .title{\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 2;\n          overflow: hidden;\n          word-break: break-all;\n        }\n        .text-ellipsis {\n          color: #999;\n          max-width: 100%;\n          overflow: hidden;\n          -ms-text-overflow: ellipsis;\n          text-overflow: ellipsis;\n          .goods-spec{\n            display: inline-block;\n            padding: 2px 4px;\n            margin-top: 4px;\n            line-height: 1;\n            font-size: 12px;\n            border-radius: 4px;\n            background: #F8F9FB;\n          }\n        }\n        .origin-price {\n          color: #FE3A3B;\n          position: absolute;\n          width: 100%;\n          bottom: 0;\n          line-height: 16px;\n          font-size: 12px;\n          .price-large {\n            font-size: 16px;\n          }\n        }\n      }\n    }\n  }\n  .table-data-empty {\n    padding: 10px;\n    border-top: 0;\n    text-align: center;\n    line-height: 2.5;\n    font-size: 14px;\n    color: #666;\n  }\n}\n</style>\n"]}]}