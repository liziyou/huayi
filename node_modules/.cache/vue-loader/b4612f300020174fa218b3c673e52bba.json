{"remainingRequest":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/vant-demo/vant/vue2/src/view/cart/index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/user/Desktop/vant-demo/vant/vue2/src/view/cart/index.vue","mtime":1615541928767},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/vant-demo/vant/vue2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jYXJkLWdvb2RzIHsKICBwYWRkaW5nOiAxMHB4IDA7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTsKICBtYXJnaW4tdG9wOiAzNnB4OwogICYtaXRlbSB7CiAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOwogICAgIC52YW4tY2VsbF9fdmFsdWUtLWFsb25lIHsKICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICB9CiAgICAudmFuLWNhcmQgewogICAgICBmbGV4OiAxOwogICAgfQogICAgJi1lbXB0eSB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOwogICAgICBtYXJnaW4tdG9wOiA2MHB4OwogICAgICAuaW1nLWJveCwudHh0IHsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIH0KICAgICAgLnR4dCB7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICBidXR0b24gewogICAgICAgICAgd2lkdGg6IDQwJTsKICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogIH0KICAmX19pdGVtIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7CiAgICAudmFuLWNoZWNrYm94X19sYWJlbCB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IGF1dG87IC8vIHRlbXAKICAgICAgcGFkZGluZzogMCAxMHB4IDAgMTVweDsKICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIH0KCiAgICAudmFuLWNoZWNrYm94X19pY29uIHsKICAgIH0KCiAgICAudmFuLWNhcmRfX3ByaWNlIHsKICAgICAgY29sb3I6ICNmNDQ7CiAgICB9CiAgfQp9Ci5jYXJ0ewogIC52YW4tc3VibWl0LWJhciB7CiAgICBib3R0b206IDUwcHg7CiAgICBib3JkZXItYm90dG9tOiAjZWFlYWVhIDFweCBzb2xpZDsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/cart","sourcesContent":["<template>\n  <div class=\"cart\">\n    <van-nav-bar title=\"购物车\" :fixed=\"true\">\n      <!-- <van-icon slot=\"left\" name=\"gift-o\" /> -->\n      <van-icon v-if=\"checkedGoods.length > 0\" slot=\"right\" @click=\"delCart\">删除</van-icon>\n    </van-nav-bar>\n    <van-checkbox-group v-if=\"showType\" ref=\"checkboxGroup\" v-model=\"checkedGoods\" class=\"card-goods\" @change=\"changeGoods\">\n      <van-cell\n        v-for=\"item in goods\"\n        :key=\"item.id\"\n        class=\"card-goods-item\"\n      >\n        <van-checkbox\n          class=\"card-goods__item\"\n          :name=\"item.id\"\n        />\n        <van-card\n          :price=\"item.price.toFixed(2) + ''\"\n          :desc=\"item.desc\"\n          :title=\"item.title\"\n          :thumb=\"item.thumb\"\n        >\n          <template #footer>\n            <van-stepper v-model=\"item.num\" integer min=\"1\" input-width=\"40px\" />\n          </template>\n        </van-card>\n      </van-cell>\n      <van-cell\n        v-if=\"goods.length < 1\"\n        class=\"card-goods-item-empty\"\n      >\n        <div class=\"img-box\">\n          <img :src=\"goodEmpty\">\n        </div>\n        <div class=\"txt\">\n          <p>购物车空空如也，去选购一些商品吧～～</p>\n          <van-button round url=\"/\" color=\"linear-gradient(to right, #ff6034, #ee0a24)\">去首页</van-button>\n        </div>\n      </van-cell>\n    </van-checkbox-group>\n    <van-submit-bar\n      v-if=\"isEmpty\"\n      :price=\"totalPrice\"\n      :disabled=\"!checkedGoods.length\"\n      :button-text=\"submitBarText\"\n      @submit=\"onSubmit\"\n    >\n      <van-checkbox v-model=\"allChecked\" @click=\"handelToggleAll\">全选</van-checkbox></van-submit-bar>\n  </div>\n</template>\n\n<script>\nimport { Checkbox, CheckboxGroup, Card, SubmitBar, Toast, Tag, Button, NavBar, Icon, Stepper, Cell } from 'vant'\n\nexport default {\n  components: {\n    [NavBar.name]: NavBar,\n    [Icon.name]: Icon,\n    [Card.name]: Card,\n    [Checkbox.name]: Checkbox,\n    [SubmitBar.name]: SubmitBar,\n    [CheckboxGroup.name]: CheckboxGroup,\n    [Button.name]: Button,\n    [Stepper.name]: Stepper,\n    [Cell.name]: Cell,\n    [Tag.name]: Tag\n  },\n\n  data() {\n    return {\n      goodEmpty: require('/static/images/cartEmpty.png'),\n      checkedGoods: ['1', '2', '3'],\n      allChecked: false,\n      showType: true,\n      goods: [{\n        id: '1',\n        title: '进口香蕉',\n        desc: '约250g，2根',\n        price: 200.00,\n        num: 1,\n        thumb: 'https://img.yzcdn.cn/public_files/2017/10/24/2f9a36046449dafb8608e99990b3c205.jpeg'\n      }, {\n        id: '2',\n        title: '陕西蜜梨',\n        desc: '约600g',\n        price: 690.00,\n        num: 1,\n        thumb: 'https://img.yzcdn.cn/public_files/2017/10/24/f6aabd6ac5521195e01e8e89ee9fc63f.jpeg'\n      }, {\n        id: '3',\n        title: '美国伽力果',\n        desc: '约680g/3个',\n        price: 2680.00,\n        num: 1,\n        thumb: 'https://img.yzcdn.cn/public_files/2017/10/24/320454216bbe9e25c7651e1fa51b31fd.jpeg'\n      }]\n    }\n  },\n\n  computed: {\n    submitBarText() {\n      const count = this.checkedGoods.length\n      return '结算' + (count ? `(${count})` : '')\n    },\n\n    totalPrice() {\n      let total = 0\n      this.goods.map(item => {\n        if (this.checkedGoods.includes(item.id)) {\n          console.log('total')\n          total += item.price * 100 * item.num\n          console.log(total)\n        }\n      })\n      console.log('total')\n      console.log(total)\n\n      return total\n    },\n    isEmpty() {\n      return this.goods.length > 0\n    }\n  },\n  created() {\n    this.allChecked = this.checkedGoods.length === this.goods.length && this.checkedGoods.length > 0\n  },\n  methods: {\n    formatPrice(price) {\n      return (price / 100).toFixed(2)\n    },\n\n    onSubmit() {\n      Toast('点击结算')\n    },\n    delCart() {\n      console.log('his.checkedGoods')\n      console.log(this.checkedGoods)\n      console.log(this.goods)\n      const arr = [...this.goods].filter(x => [...this.checkedGoods].every(y => y !== x.id))\n      const check = [...this.checkedGoods].filter(x => [...arr].some(y => y.id === x))\n      console.log('arr', arr)\n\n      console.log('arr', arr)\n      this.showType = false\n      this.$nextTick(() => {\n        this.showType = true\n        this.goods = arr\n        this.checkedGoods = check\n        this.allChecked = this.checkedGoods.length === this.goods.length && this.checkedGoods.length > 0\n      })\n    },\n    handelToggleAll() {\n      this.$refs.checkboxGroup.toggleAll(this.allChecked)\n    },\n    changeGoods() {\n      console.log('this.checkedGoods')\n      console.log(this.checkedGoods)\n      console.log(this.goods)\n\n      this.allChecked = this.checkedGoods.length === this.goods.length && this.checkedGoods.length > 0\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.card-goods {\n  padding: 10px 0;\n  background-color: #fafafa;\n  margin-top: 36px;\n  &-item {\n    background: #fafafa;\n     .van-cell__value--alone {\n       display: flex;\n    }\n    .van-card {\n      flex: 1;\n    }\n    &-empty {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background: #fafafa;\n      margin-top: 60px;\n      .img-box,.txt {\n        justify-content: center;\n        align-items: center;\n        display: flex;\n      }\n      .txt {\n        flex-direction: column;\n        button {\n          width: 40%;\n          margin-top: 30px;\n        }\n      }\n    }\n\n  }\n  &__item {\n    position: relative;\n    background-color: #fafafa;\n    .van-checkbox__label {\n      width: 100%;\n      height: auto; // temp\n      padding: 0 10px 0 15px;\n      box-sizing: border-box;\n    }\n\n    .van-checkbox__icon {\n    }\n\n    .van-card__price {\n      color: #f44;\n    }\n  }\n}\n.cart{\n  .van-submit-bar {\n    bottom: 50px;\n    border-bottom: #eaeaea 1px solid;\n  }\n}\n</style>\n"]}]}